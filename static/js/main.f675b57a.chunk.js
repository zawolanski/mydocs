(this["webpackJsonpmy-docs-frontend"]=this["webpackJsonpmy-docs-frontend"]||[]).push([[0],{165:function(e,t,n){},166:function(e,t,n){"use strict";n.r(t);var r,a,c,i,s,o,l=n(1),u=n.n(l),b=n(119),j=n(38),d=n(22),p=n(9),x=n(216),O=n(2),m=function(){var e=Object(x.a)("content"),t=Object(p.a)(e,1)[0],n=Object(d.h)();return Object(l.useEffect)((function(){n("/signin")}),[n]),Object(O.jsx)("div",{className:"App",children:Object(O.jsxs)("header",{className:"App-header",children:[Object(O.jsx)("a",{className:"App-link",href:"https://reactjs.org",target:"_blank",rel:"noopener noreferrer",children:t("learn")}),Object(O.jsx)(j.b,{to:"/signin",children:"Sign in"}),Object(O.jsx)("br",{}),Object(O.jsx)(j.b,{to:"/signup",children:"Sign up"})]})})},h=n(0),f=n.n(h),v=n(4),g=n(26),w=n(218),y=n(202),S=n(219),k=n(209),C=n(221),I=n(211),E=n(222),z=n(214),D=n(42),B=n(201);function P(){return(P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function L(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function N(e,t){var n=e.title,u=e.titleId,b=L(e,["title","titleId"]);return l.createElement("svg",P({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 48 48",ref:t,"aria-labelledby":u},b),n?l.createElement("title",{id:u},n):null,r||(r=l.createElement("defs",null,l.createElement("path",{id:"a",d:"M44.5 20H24v8.5h11.8C34.7 33.9 30.1 37 24 37c-7.2 0-13-5.8-13-13s5.8-13 13-13c3.1 0 5.9 1.1 8.1 2.9l6.4-6.4C34.6 4.1 29.6 2 24 2 11.8 2 2 11.8 2 24s9.8 22 22 22c11 0 21-8 21-22 0-1.3-.2-2.7-.5-4z"}))),a||(a=l.createElement("clipPath",{id:"b"},l.createElement("use",{xlinkHref:"#a",overflow:"visible"}))),c||(c=l.createElement("path",{clipPath:"url(#b)",fill:"#FBBC05",d:"M0 37V11l17 13z"})),i||(i=l.createElement("path",{clipPath:"url(#b)",fill:"#EA4335",d:"M0 11l17 13 7-6.1L48 14V0H0z"})),s||(s=l.createElement("path",{clipPath:"url(#b)",fill:"#34A853",d:"M0 37l30-23 7.9 1L48 0v48H0z"})),o||(o=l.createElement("path",{clipPath:"url(#b)",fill:"#4285F4",d:"M48 48L17 24l-4-3 35-10z"})))}var A=l.forwardRef(N),F=(n.p,function(e){var t=e.handlePopupOpen,n=Object(d.h)(),r=Object(d.g)(),a=Object(D.b)().enqueueSnackbar,c=Object(x.a)(["signin","common"]),i=Object(p.a)(c,1)[0],s=function(){var e=Object(v.a)(f.a.mark((function e(){var r,c,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(!0),e.prev=1,r=Object(g.c)(),c=new g.a,e.next=6,Object(g.g)(r,c);case 6:a(i("notification.success")),n("/documents"),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),(null===(s=null===e.t0||void 0===e.t0?void 0:e.t0.message)||void 0===s?void 0:s.includes("auth/popup-closed-by-user"))||a(i("notification.error"),{variant:"error"});case 14:t(!1);case 15:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}(),o=r.pathname.includes("signin")?"in":"up";return Object(O.jsxs)(z.a,{variant:"outlined",size:"large",sx:{width:"90%",mb:4,p:"14px 14px"},onClick:s,children:[Object(O.jsx)(B.a,{sx:{height:25,width:25,mr:1},children:Object(O.jsx)(A,{})}),i("controls.googleSign".concat(o),{ns:"common"})]})}),U=n(217),W=function(e){var t=e.children,n=e.isLoading,r=e.additionalContent,a=void 0===r?null:r;return Object(O.jsx)(y.a,{sx:{minHeight:{xs:"auto",sm:"100vh"},display:"flex",justifyContent:{xs:"flex-start",sm:"center"},alignItems:"center",boxSizing:"border-box",overflow:"auto"},children:Object(O.jsxs)(y.a,{sx:{maxWidth:{xs:"100%",sm:"450px"},width:"100%",p:{xs:0,sm:2},boxSizing:"border-box",display:"flex",flexDirection:"column",height:{xs:"100%",sm:"auto"}},children:[Object(O.jsxs)(y.a,{sx:{boxSizing:"border-box",overflowX:"hidden",overflowY:"auto",position:"relative",border:function(e){return{sm:"1px solid ".concat(e.palette.grey[300])}},maxWidth:{xs:"100%",sm:"450px"},width:"100%",p:{xs:1,sm:5},pb:{xs:5},borderRadius:function(e){return"string"===typeof e.shape.borderRadius?parseInt(e.shape.borderRadius,10)/2:e.shape.borderRadius/2}},children:[n?Object(O.jsx)(U.a,{sx:{width:"100%",position:"absolute",top:0,left:0}}):null,n?Object(O.jsx)(y.a,{sx:{top:0,left:0,bottom:0,right:0,opacity:.5,position:"absolute",zIndex:2}}):null,t]}),Object(O.jsx)(y.a,{sx:{width:"100%",display:"flex",justifyContent:"flex-end",p:{xs:2,sm:0},boxSizing:"border-box",bottom:0,left:0,position:{xs:"fixed",sm:"static"}},children:a})]})})},M=function(){var e=Object(l.useState)(""),t=Object(p.a)(e,2),n=t[0],r=t[1],a=Object(l.useState)(""),c=Object(p.a)(a,2),i=c[0],s=c[1],o=Object(l.useState)(!1),u=Object(p.a)(o,2),b=u[0],m=u[1],h=Object(l.useState)(!1),B=Object(p.a)(h,2),P=B[0],L=B[1],N=Object(l.useState)(!1),A=Object(p.a)(N,2),U=A[0],M=A[1],R=Object(d.h)(),H=Object(D.b)().enqueueSnackbar,T=Object(x.a)(["signin","common"]),q=Object(p.a)(T,1)[0];Object(l.useEffect)((function(){m(P)}),[P]);var J=function(){var e=Object(v.a)(f.a.mark((function e(t){var r,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n&&i){e.next=3;break}return e.abrupt("return");case 3:return m(!0),e.prev=4,r=Object(g.c)(),e.next=8,Object(g.f)(r,n,i);case 8:H(q("notification.success")),R("/documents"),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(4),(null===(a=null===e.t0||void 0===e.t0?void 0:e.t0.message)||void 0===a?void 0:a.includes("auth/wrong-password"))||(null===a||void 0===a?void 0:a.includes("auth/user-not-found"))?H(q("notification.invalidCredentials"),{variant:"error"}):H(q("notification.error"),{variant:"error"});case 16:m(!1);case 17:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(t){return e.apply(this,arguments)}}();return Object(O.jsx)(W,{isLoading:b,additionalContent:Object(O.jsx)(w.a,{variant:"body2",underline:"none",component:j.b,to:"/signup",sx:{mt:{xs:0,sm:1.75},color:"text.primary"},children:q("signUpButton")}),children:Object(O.jsxs)(y.a,{component:"form",onSubmit:J,sx:{display:"flex",flexDirection:"column",alignItems:"center",opacity:b?.5:1},autoComplete:"off",children:[Object(O.jsx)(S.a,{variant:"h6",sx:{mb:1.25},children:q("title")}),Object(O.jsx)(S.a,{variant:"body2",sx:{mb:2.25},children:q("subtitle")}),Object(O.jsxs)(y.a,{sx:{display:"flex",flexDirection:"column",gap:3,width:"90%",mb:1.5},children:[Object(O.jsx)(k.a,{label:q("controls.email.label",{ns:"common"}),type:"email",value:n,onChange:function(e){return r(e.target.value)}}),Object(O.jsxs)(y.a,{sx:{width:"100%"},children:[Object(O.jsx)(k.a,{sx:{width:"100%"},label:q("controls.password.label",{ns:"common"}),type:U?"text":"password",value:i,onChange:function(e){return s(e.target.value)}}),Object(O.jsx)(C.a,{control:Object(O.jsx)(I.a,{onChange:function(){return M((function(e){return!e}))}}),label:q("controls.password.show",{ns:"common"})})]})]}),Object(O.jsx)(E.a,{sx:{mb:2},children:q("or")}),Object(O.jsx)(F,{handlePopupOpen:function(e){return L(e)}}),Object(O.jsxs)(y.a,{sx:{display:"flex",justifyContent:"space-between",width:"90%"},children:[Object(O.jsx)(z.a,{component:j.b,to:"/forgot-password",sx:{mt:.75,pl:0,pr:0},children:q("controls.password.forgot",{ns:"common"})}),Object(O.jsx)(z.a,{type:"submit",variant:"contained",disabled:b,children:q("signInButton")})]})]})})},R=n(32),H=n(123),T={apiKey:"AIzaSyCJBCllXwg76zvQUnGncnAzoIKQTvnCwJs",authDomain:"mydocs-64c50.firebaseapp.com",projectId:"mydocs-64c50",storageBucket:"mydocs-64c50.appspot.com",messagingSenderId:"562007597192",appId:"1:562007597192:web:3b8d0d7727591669973f3d"};Object(H.a)(T);var q=Object(R.d)(),J=function(){var e=Object(v.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(R.g)(Object(R.b)(q,"users",t.id),t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=Object(l.useState)(""),t=Object(p.a)(e,2),n=t[0],r=t[1],a=Object(l.useState)(""),c=Object(p.a)(a,2),i=c[0],s=c[1],o=Object(l.useState)(""),u=Object(p.a)(o,2),b=u[0],m=u[1],h=Object(l.useState)(""),w=Object(p.a)(h,2),B=w[0],P=w[1],L=Object(l.useState)(!1),N=Object(p.a)(L,2),A=N[0],U=N[1],M=Object(l.useState)(!1),R=Object(p.a)(M,2),H=R[0],T=R[1],q=Object(l.useState)(!1),Y=Object(p.a)(q,2),X=Y[0],K=Y[1],Q=Object(x.a)(["signup","common"]),V=Object(p.a)(Q,1)[0],G=Object(D.b)().enqueueSnackbar,_=Object(d.h)();Object(l.useEffect)((function(){U(H)}),[H]);var Z=function(){var e=Object(v.a)(f.a.mark((function e(t){var r,a,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n&&i){e.next=3;break}return e.abrupt("return");case 3:return U(!0),e.prev=4,r=Object(g.c)(),e.next=8,Object(g.b)(r,n,i);case 8:return a=e.sent,c=a.user,e.next=12,Object(g.i)(c,{displayName:"".concat(b," ").concat(B)});case 12:return e.next=14,J({id:c.uid,email:n,firstname:b,lastname:B});case 14:return _("/documents"),e.abrupt("return");case 18:e.prev=18,e.t0=e.catch(4),G(V("notification.error"),{variant:"error"});case 21:U(!1);case 22:case"end":return e.stop()}}),e,null,[[4,18]])})));return function(t){return e.apply(this,arguments)}}();return Object(O.jsx)(W,{isLoading:A,children:Object(O.jsxs)(y.a,{component:"form",onSubmit:Z,sx:{display:"flex",flexDirection:"column",alignItems:"center",opacity:A?.5:1},children:[Object(O.jsx)(S.a,{variant:"h6",sx:{mb:1.25},children:V("title")}),Object(O.jsx)(S.a,{variant:"body2",sx:{mb:2.25},children:V("subtitle")}),Object(O.jsxs)(y.a,{sx:{display:"flex",flexDirection:"column",gap:3,width:"90%",mb:1.5},children:[Object(O.jsxs)(y.a,{sx:{display:"flex",gap:3},children:[Object(O.jsx)(k.a,{label:V("controls.firstname.label",{ns:"common"}),name:"firstname",value:b,onChange:function(e){return m(e.target.value)}}),Object(O.jsx)(k.a,{label:V("controls.lastname.label",{ns:"common"}),name:"lastname",value:B,onChange:function(e){return P(e.target.value)}})]}),Object(O.jsx)(k.a,{label:V("controls.email.label",{ns:"common"}),type:"email",name:"email",value:n,onChange:function(e){return r(e.target.value)}}),Object(O.jsxs)(y.a,{sx:{width:"100%"},children:[Object(O.jsx)(k.a,{sx:{width:"100%"},label:V("controls.password.label",{ns:"common"}),type:X?"text":"password",name:"password",value:i,onChange:function(e){return s(e.target.value)}}),Object(O.jsx)(C.a,{control:Object(O.jsx)(I.a,{onChange:function(){return K((function(e){return!e}))}}),label:V("controls.password.show",{ns:"common"})})]})]}),Object(O.jsx)(E.a,{sx:{mb:2},children:V("or")}),Object(O.jsx)(F,{handlePopupOpen:function(e){return T(e)}}),Object(O.jsxs)(y.a,{sx:{display:"flex",justifyContent:"space-between",width:"90%"},children:[Object(O.jsx)(z.a,{component:j.b,to:"/signin",sx:{mt:.75,pl:0,pr:0},children:V("signInButton")}),Object(O.jsx)(z.a,{type:"submit",variant:"contained",disabled:A,children:V("signUpButton")})]})]})})},X=n(53),K=n(95),Q=n.n(K),V=n(205),G=n(223),_=n(224),Z=n(204),$=n(225),ee=n(215),te=n(125),ne=n(124),re=function(e){var t=e.split(" ");return t.length>0?"".concat(t[0][0]).concat(t.length>1?t[1][0]:t[1][1]):""},ae=n(128),ce=function(){var e=Object(l.useState)(!1),t=Object(p.a)(e,2),n=t[0],r=t[1],a=Object(D.b)().enqueueSnackbar,c=Object(x.a)("signout"),i=Object(p.a)(c,1)[0],s=Object(d.h)(),o=function(){var e=Object(v.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0),t=Object(g.c)(),e.prev=2,e.next=5,Object(g.h)(t);case 5:s("/"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),a(i("notification.error"),{variant:"error"});case 11:r(!1);case 12:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(){return e.apply(this,arguments)}}();return Object(O.jsx)(z.a,{onClick:o,disabled:n,variant:"outlined",sx:{width:"60%"},size:"small",children:i("signOutButton")})},ie=Object(l.forwardRef)((function(e){var t=e.handleClose,n=Object(ne.a)(e,["handleClose"]),r=Object(g.c)().currentUser;return r?Object(O.jsx)(ae.a,Object(X.a)(Object(X.a)({},n),{},{onClose:t,MenuListProps:{style:{padding:0}},PaperProps:{sx:{border:function(e){var t=e.palette;return"1px solid ".concat(t.divider)}}},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},keepMounted:!0,children:Object(O.jsxs)(y.a,{width:"17.5rem",children:[Object(O.jsxs)(y.a,{p:1.5,display:"flex",alignItems:"center",flexDirection:"column",children:[Object(O.jsx)(ee.a,{sx:{mb:"0.5rem",width:"4rem",height:"4rem",fontSize:"1.75rem"},children:r.displayName?re(r.displayName):""}),Object(O.jsx)(S.a,{textAlign:"center",variant:"subtitle1",lineHeight:"1.25rem",children:r.displayName}),Object(O.jsx)(S.a,{textAlign:"center",variant:"subtitle2",lineHeight:"1.25rem",children:r.email})]}),Object(O.jsx)(E.a,{}),Object(O.jsx)(y.a,{p:1.5,display:"flex",justifyContent:"center",children:Object(O.jsx)(ce,{})})]})})):null})),se=function(){var e=Object(l.useState)(null),t=Object(p.a)(e,2),n=t[0],r=t[1],a=Object(l.useState)(null),c=Object(p.a)(a,2),i=c[0],s=c[1],o=Object(l.useState)(null),u=Object(p.a)(o,2),b=u[0],j=u[1],d=Object(l.useState)(window.scrollY),x=Object(p.a)(d,2),m=x[0],h=x[1],f=Boolean(b),v=Object(te.a)((function(){return h(window.scrollY)}),500,{leading:!0});Object(l.useEffect)((function(){var e,t,n=Object(g.c)();return(null===(e=n.currentUser)||void 0===e?void 0:e.displayName)&&s(re(null===(t=n.currentUser)||void 0===t?void 0:t.displayName)),r(n.currentUser),window.addEventListener("scroll",v),function(){return window.removeEventListener("scroll",v)}}),[]);return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(G.a,{position:"fixed",sx:{boxShadow:function(e){var t=e.shadows;return 0===m?0:t[4]},background:function(e){return e.palette.common.white},color:function(e){return e.palette.text.secondary}},children:Object(O.jsx)(_.a,{sx:{justifyContent:"space-between"},children:Object(O.jsxs)(Z.a,{spacing:1,direction:"row",alignItems:"center",width:"100%",children:[Object(O.jsxs)(Z.a,{spacing:.25,direction:"row",alignItems:"center",width:"33.33%",children:[Object(O.jsx)(V.a,{fontSize:"large",color:"primary"}),Object(O.jsx)(S.a,{variant:"h5",component:"h1",children:"My Docs"})]}),Object(O.jsx)(y.a,{width:"33.33%"}),Object(O.jsx)(y.a,{width:"33.33%",display:"flex",justifyContent:"flex-end",children:Object(O.jsx)($.a,{sx:{p:0},onClick:function(e){j(e.currentTarget)},children:Object(O.jsx)(ee.a,{alt:(null===n||void 0===n?void 0:n.displayName)||"",src:(null===n||void 0===n?void 0:n.photoURL)||"",sx:{width:"2rem",height:"2rem",fontSize:"1rem",lineHeight:"2rem",alignItems:"center"},children:i})})})]})})}),Object(O.jsx)(ie,{open:f,anchorEl:b,handleClose:function(){j(null)}})]})},oe=n(196),le=n(206),ue=n(207),be=n(208),je=function(e){var t=e.toDate(),n=t.getDate()<10?"0".concat(t.getDate()):t.getDate(),r=t.toLocaleString("default",{month:"short"}),a=t.getFullYear();return"".concat(n," ").concat(r," ").concat(a)},de=function(e){var t=e.document,n=e.isSingle,r=Object(x.a)("document"),a=Object(p.a)(r,1)[0];return Object(O.jsxs)(y.a,{role:"option",component:"div",display:"grid",gridTemplateColumns:"3rem auto",height:"3rem",alignItems:"center",gap:"0.5rem",borderRadius:"3rem",sx:{":hover":{background:function(e){var t=e.palette;return Object(oe.a)(t.primary.light,.15)},outline:"1px solid #F8F8F8"},cursor:"pointer"},children:[Object(O.jsx)(le.a,{color:"primary",sx:{justifySelf:"center"}}),Object(O.jsxs)(y.a,{display:"grid",gridTemplateColumns:"auto calc((100% + 3rem) * 0.15) calc((100% + 3rem) * 0.15) 3rem",gap:"0.5rem",alignItems:"center",boxSizing:"border-box",height:"100%",borderBottom:function(e){var t=e.palette;return"1px solid ".concat(n?"transparent":t.divider)},sx:{":hover":{borderColor:"transparent"}},children:[Object(O.jsxs)(y.a,{display:"flex",alignItems:"center",children:[Object(O.jsx)(S.a,{noWrap:!0,letterSpacing:"0.025rem",variant:"body2",mr:"0.35rem",children:t.name}),t.invitedUsers.length>0?Object(O.jsx)(ue.a,{fontSize:"small",titleAccess:a("sharedInfo")}):null]}),Object(O.jsx)(y.a,{children:Object(O.jsx)(S.a,{noWrap:!0,variant:"body2",sx:{color:function(e){return e.palette.text.secondary}},children:t.ownerName})}),Object(O.jsx)(y.a,{children:Object(O.jsx)(S.a,{noWrap:!0,variant:"body2",sx:{color:function(e){return e.palette.text.secondary}},children:je(t.updatedAt)})}),Object(O.jsx)($.a,{sx:{width:"2.5rem"},children:Object(O.jsx)(be.a,{})})]})]})},pe=function(){var e=Object(x.a)("document"),t=Object(p.a)(e,1)[0];return Object(O.jsxs)(B.a,{m:"0.5rem 0 0.75rem",display:"grid",gridTemplateColumns:"3rem auto 15% 15% 3rem",height:"3rem",alignItems:"center",gap:"0.5rem",children:[Object(O.jsx)("div",{}),Object(O.jsx)(B.a,{children:Object(O.jsx)(S.a,{noWrap:!0,fontWeight:"600",letterSpacing:"0.025rem",variant:"body2",children:t("labels.documentName")})}),Object(O.jsx)(B.a,{children:Object(O.jsx)(S.a,{noWrap:!0,fontWeight:"600",variant:"body2",children:t("labels.owned")})}),Object(O.jsx)(B.a,{children:Object(O.jsx)(S.a,{fontWeight:"600",variant:"body2",children:t("labels.lastUpdate")})})]})},xe=function(){var e=Object(l.useState)(null),t=Object(p.a)(e,2),n=t[0],r=t[1],a=Object(D.b)().enqueueSnackbar,c=Object(x.a)(["signin","common"]),i=Object(p.a)(c,1)[0];return Object(l.useEffect)((function(){var e,t,n,c=null===(e=Object(g.c)().currentUser)||void 0===e?void 0:e.uid;if(c)try{var s=[];t=Object(R.e)(function(e){return Object(R.f)(Object(R.a)(q,"documents"),Object(R.h)("owner","==",e))}(c),function(){var e=Object(v.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.forEach(function(){var e=Object(v.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s.push(Object(X.a)(Object(X.a)({},t.data()),{},{id:t.id,ownerName:"me"})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),r(s);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n=Object(R.e)(function(e){return Object(R.f)(Object(R.a)(q,"documents"),Object(R.h)("invitedUsers","array-contains",e))}(c),function(){var e=Object(v.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.forEach(function(){var e=Object(v.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s.push(Object(X.a)(Object(X.a)({},t.data()),{},{id:t.id,ownerName:""})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),!(s.length>0)){e.next=5;break}return e.next=4,Promise.all(s.map(function(){var e=Object(v.a)(f.a.mark((function e(t){var n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("me"!==t.ownerName){e.next=2;break}return e.abrupt("return",t);case 2:return e.next=4,Object(R.c)(Object(R.b)(q,"users",t.owner));case 4:return n=e.sent,r=n.data(),e.abrupt("return",Object(X.a)(Object(X.a)({},t),{},{ownerName:"".concat(Q.a.capitalize(r.firstname)," ").concat(Q.a.capitalize(r.lastname))}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 4:s=e.sent;case 5:s=Q.a.orderBy(s,(function(e){return e.updatedAt.toDate()}),"desc"),r(s);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}catch(o){a(i("notification.error"),{variant:"error"})}return function(){t(),n()}}),[a,i]),Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)("div",{children:[Object(O.jsx)(se,{}),Object(O.jsxs)(y.a,{sx:{pt:10,m:"0 auto",userSelect:"none",pb:"1.5rem"},width:"100%",maxWidth:"1000px",role:"listbox",component:"div",tabIndex:0,children:[Object(O.jsx)(pe,{}),n&&n.length>0?n.map((function(e){return Object(O.jsx)(de,{document:e,isSingle:1===n.length},e.id)})):Object(O.jsx)("p",{children:"There are no documents"})]})]})})},Oe=function(){var e=Object(l.useState)(""),t=Object(p.a)(e,2),n=t[0],r=t[1],a=Object(l.useState)(!1),c=Object(p.a)(a,2),i=c[0],s=c[1],o=Object(d.h)(),u=Object(D.b)().enqueueSnackbar,b=Object(x.a)(["forgotPassword","common"]),m=Object(p.a)(b,1)[0],h=function(){var e=Object(v.a)(f.a.mark((function e(t){var r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),t.preventDefault(),e.prev=2,r=Object(g.c)(),e.next=6,Object(g.e)(r,n);case 6:u(m("notification.success")),setTimeout((function(){return o("/signin")}),1e3),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),(null===e.t0||void 0===e.t0?void 0:e.t0.message).includes("auth/user-not-found")?u(m("notification.notFound",{ns:"common",field:"Email"}),{variant:"error"}):u(m("notification.error"),{variant:"error"});case 14:s(!1);case 15:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(O.jsx)(W,{isLoading:i,children:Object(O.jsxs)(y.a,{component:"form",onSubmit:h,sx:{display:"flex",flexDirection:"column",alignItems:"center",opacity:i?.5:1},children:[Object(O.jsx)(S.a,{variant:"h6",sx:{mb:1.25},children:m("title")}),Object(O.jsx)(S.a,{variant:"body2",sx:{mb:2.25},children:m("subtitle")}),Object(O.jsx)(y.a,{sx:{display:"flex",flexDirection:"column",gap:3,width:"90%",mb:3},children:Object(O.jsx)(k.a,{label:m("controls.email.label",{ns:"common"}),type:"email",value:n,onChange:function(e){return r(e.target.value)}})}),Object(O.jsx)(S.a,{variant:"body1",width:"90%",marginBottom:3,children:m("text")}),Object(O.jsxs)(y.a,{sx:{display:"flex",justifyContent:"space-between",width:"90%"},children:[Object(O.jsx)(z.a,{component:j.b,to:"/signin",sx:{mt:.75,pl:0,pr:0},children:m("logInInsteadButton")}),Object(O.jsx)(z.a,{type:"submit",variant:"contained",disabled:i,children:m("signUpButton")})]})]})})},me=function(){var e=function(){var e=Object(l.useRef)(!0),t=Object(l.useState)(!1),n=Object(p.a)(t,2),r=n[0],a=n[1],c=Object(l.useState)(!0),i=Object(p.a)(c,2),s=i[0],o=i[1];return Object(l.useEffect)((function(){if(e){var t=Object(g.c)();Object(g.d)(t,(function(e){e&&a(!0),o(!1)}))}return function(){e.current=!1}})),{loggedIn:r,checkingStatus:s}}(),t=e.loggedIn;return e.checkingStatus?Object(O.jsx)("div",{children:"Loading..."}):t?Object(O.jsx)(d.b,{}):Object(O.jsx)(d.a,{to:"/signin"})},he=n(213),fe=n(110),ve=Object(fe.a)({palette:{primary:{main:"#7C5DFA"},secondary:{main:"#7C5DFA"},background:{default:"#F8F8FB"},error:{main:"#EC5757"}},components:{MuiButton:{styleOverrides:{root:{textTransform:"none",fontWeight:600}}}}}),ge=function(e){var t=e.children;return Object(O.jsx)(he.a,{theme:ve,children:Object(O.jsx)(D.a,{variant:"success",anchorOrigin:{vertical:"bottom",horizontal:"right"},children:t})})},we=function(){return Object(O.jsx)(ge,{children:Object(O.jsx)(j.a,{basename:"mydocs",children:Object(O.jsxs)(d.e,{children:[Object(O.jsx)(d.c,{index:!0,element:Object(O.jsx)(m,{})}),Object(O.jsx)(d.c,{path:"/signin",element:Object(O.jsx)(M,{})}),Object(O.jsx)(d.c,{path:"/signup",element:Object(O.jsx)(Y,{})}),Object(O.jsx)(d.c,{path:"/forgot-password",element:Object(O.jsx)(Oe,{})}),Object(O.jsx)(d.c,{path:"/documents",element:Object(O.jsx)(me,{}),children:Object(O.jsx)(d.c,{path:"/documents",element:Object(O.jsx)(xe,{})})})]})})})},ye=(n(165),n(111)),Se=n(77),ke=n(129),Ce=n(126);ye.a.use(Ce.a).use(ke.a).use(Se.e).init({backend:{loadPath:"".concat("/mydocs","/locales/{{lng}}/{{ns}}.json"),allowMultiLoading:!0},fallbackLng:"en-us",lowerCaseLng:!0,load:"currentOnly"});ye.a;var Ie=document.getElementById("root");Object(b.createRoot)(Ie).render(Object(O.jsx)(l.Suspense,{fallback:"loading",children:Object(O.jsx)(u.a.StrictMode,{children:Object(O.jsx)(we,{})})}))}},[[166,1,2]]]);
//# sourceMappingURL=main.f675b57a.chunk.js.map